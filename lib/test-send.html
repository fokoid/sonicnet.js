<html>
  <head>
    <script src="sonicnet.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script>
  </head>
  <body>
    <main id="main"></main>
    <script>
      const boxMinFreq = $('<input type="text" value="15000" />'),
            boxMaxFreq = $('<input type="text" value="18000" />'),
            boxDuration = $('<input type="text" value="200" />'),
            boxMessage = $('<input type="text" value="hello world!" />'),
            btnSend = $('<button>Send Message!</button>');
      const mainControls = $('<div>Enter message:</div>'),
            freqControls = $('<div></div>'),
            minFreqControls = $('<span>Min. freq:</span>'),
            maxFreqControls = $('<span>Max. freq:</span>'),
            durationControls = $('<span>Tone duration (ms):</span>');
      minFreqControls.append(boxMinFreq);
      maxFreqControls.append(boxMaxFreq);
      durationControls.append(boxDuration);
      freqControls.append(minFreqControls, maxFreqControls, durationControls);
      mainControls.append(boxMessage, btnSend);
      $('main').append(mainControls).append(freqControls);

      btnSend.on('click', event => {
        const freqMin = parseInt(boxMinFreq.val()),
              freqMax = parseInt(boxMaxFreq.val()),
              charDuration = parseInt(boxDuration.val()) / 1000,
              message = boxMessage.val();
        console.log(`Sending "${message}" at ${freqMin}-${freqMax}Hz.`);

        const ssender = new SonicSender({ freqMin, freqMax, charDuration });
        ssender.send(message);
      });
    </script>
  </body>
</html>
